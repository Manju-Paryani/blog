# I/O多路复用：select和poll函数

## 概述

在前一章的服务器进程终止一节中，当FIN到达套接字时，客户正阻塞在fgets调用上。客户实际上在应对两个描述符-套接字和用户输入。

这样的进程需要一种预先告知内核的能力，使得内核一旦发现进程指定的一个或多个I/O条件就绪（也就是说输入已准备好被读取，或者描述符已能承接更多的输出），就通知进程。这个能力称为[I/O复用]()，是由select和poll等函数支持的。

I/O多路复用典型使用在下列网络应用场合：
* 当客户处理多个描述符（通常是交互式输入和网络套接字）时，必须使用I/O复用。这是我们早先讨论过的场合
* 一个客户同时处理多个套接字时可能的，不过比较少见。
* 如果一个TCP服务器既要处理监听套接字，又要处理已连接套接字，一般就要使用I/O 复用
* 如果一个服务器既要处理TCP，又要处理UDP，一般使用I/O复用
* 如果一个服务器要处理多个服务或者多个协议，一般就要使用I/O复用

注：I/O复用 并非只限于网络编程，许多重要的应用程序也需要使用这项技术
[上一级](base.md)
[上一篇](5_tcp_cli_srv_example.md)
